<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>alex studios</title>

    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Aboreto&family=Poppins:wght@800&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="../styles.css">

</head>
<body>
    
    <div class="container-fluid bg-white">
        <div class="row text-lowercase p-2 design">
            <div class="col-4 text-black">alex castillo</div>
            <div class="col-4 text-black text-center">Alex castillo</div>
            <div class="col-4 text-black text-end">alex castillo</div>
        </div>
    </div>

    <nav class="navbar navbar-expand-md bg-white navbar-dark p-3">
        <div class="container">
           <a href="/mainShop/home.html" class="navbar-brand text-lowercase">Alex Studios</a>

           <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
           data-bs-target="#navmenu"><span class="navbar-toggler-icon bg-dark"></span></button>
    
           <div class="collapse navbar-collapse" id="navmenu">
                <ul class="navbar-nav m-auto my-2 my-lg-0">
                    <li class="nav-item">
                        <a href="../home.html" id="home" class="nav-link active">Home</a>
                    </li>
                    <li class="nav-item">
                        <a href="../shop.html" id="shop" class="nav-link">Shop</a>
                    </li>
                    <li class="nav-item account">
                        <a href="../account.html" id="account" class="nav-link">Account</a>
                    </li>
                    
                </ul>
                <a href="/cart"><i class="fa-solid fa-bag-shopping icon bag"></i></a>
             
           </div>
        </div>
     
       
    </nav>
    <div class="container-fluid bg-dark">
        <div class="row text-lowercase p-2 design">
            <div class="col-4 text-white"><span class="name1">alex castillo</span></div>
            <div class="col-4 text-white text-center">Alex castillo</div>
            <div class="col-4 text-white text-end">alex castillo</div>
        </div>
    </div>

<div class="container mt-3 col-md-4 card checkout-overview">
    <% if (!cart.length) { %>
        <p class="text-center p-5">Your cart must not be empty to view this page.</p>
    <%} else if (!user) { %>
        <p class="text-center p-5">You must be logged in to view this page</p>    
    <%} else { %>
        <!-- if the cart is not empty and the user is logged in, display the order info -->
    
        <h1 class="pt-3">Checkout</h1>
        <hr>
        
        <form action="">
            <h3>Address</h3>
            
            <div class="mb-3 mt-3 d-flex justify-content-between">
                <label class="py-2">First:</label>
                <input type="firstname" class="form-control" id="firstname" placeholder="Enter First Name" name="firstname">
                <label class="py-2">Last:</label>
                <input type="lastname" class="form-control" id="last" placeholder="Enter Last Name" name="lastname">
            </div>
          
            <div class="mb-3">
                <label for="phone">Phone Number:</label>
                <input type="tel" class="form-control" id="phone" placeholder="Enter phone number" name="phone" value="<%= user.phone %>">
            </div>
    
            <div class="mb-3">
                <label for="street">Street Address:</label>
                <input type="text" class="form-control" id="street" placeholder="Enter Street Address" name="street" value="<%= user.address %>">
            </div>
    
            <div class="mb-3">
                <label for="zip">Zip Code:</label>
                <input type="text" class="form-control" id="zip" placeholder="Enter Zip Code" name="zip" value="<%= user.zip %>">
            </div>
    
            <div class="mb-3">
                <label for="city">City:</label>
                <input type="text" class="form-control" id="city" placeholder="Enter City" name="city" value="<%= user.city %>">
            </div>
    
            <div class="mb-3">
                <label for="state">State:</label>
                <select class="form-select" id="state" name="state" value="<% user.state %>">
                    <option>CA</option>
                    <option>WA</option>
                    <option>OR</option>
                
                  </select>
            </div>
            <div class="form-check mb-3">
                <label class="form-check-label">
                  <input class="form-check-input" type="checkbox" name="remember"> Use this address for my Billing infomation
                </label>
            </div>
    
             <hr>
             
            <div class="delivery-info">
                <h3>Delivery</h3>
                <p>Ship to Address</p>
                <div class="form-check mb-3">
                    <input class="form-check-input" type="radio" name="shipping" id="one-day" value="12.99">
                    <label class="form-check-label" for="one-day">
                        1 Day Shipping - $12.99
                    </label>
                </div>
                <div class="form-check mb-3">
                    <input class="form-check-input" type="radio" name="shipping" id="three-day" value="7.99" checked>
                    <label class="form-check-label" for="three-day">
                        3 Day Shipping - $7.99
                    </label>
                </div>
                <div class="form-check mb-3">
                    <input class="form-check-input" type="radio" name="shipping" id="seven-day" value="4.99">
                    <label class="form-check-label" for="seven-day">
                        7 Day Shipping - $4.99
                    </label>
                </div>
            </div>
            <p>Shipping: $<%= shippingVal %></p>
            
            <hr>

            <div class="payment-info">
                <h3>Payment Info</h3>
                <div class="mb-3">
                    <label for="card-number">Card Number:</label>
                    <input type="text" class="form-control" id="card-number" placeholder="Enter card number" name="card-number">
                </div>
                <div class="mb-3">
                    <label for="expiry">Expiration Date:</label>
                    <input type="text" class="form-control" id="expiry" placeholder="MM/YYYY" name="expiry">
                </div>
                <div class="mb-3">
                    <label for="ccv">CCV:</label>
                    <input type="text" class="form-control" id="ccv" placeholder="Enter CCV" name="ccv">
                </div>
            </div>

            <hr>

            <% let subtotal = 0; %>
            <% let itemsTotal = 0; %>
            <div class="order-contents">
                <h3>Products</h3>
              <% cart.forEach(item => { %>
                <div class="cart-item p-3">
                  <img src="<%= item.image %>" alt="<%= item.name %>" class="cart-item-image img-fluid card p-1">
                  <div class="cart-item-details p-2">
                    <h4><%= item.name %></h4>
                    <p>Price: $<span class="total-price"><%= item.quantity * item.price %></span></p>
                    <p>Quantity:
                      <span class="quantity"><%= item.quantity %></span>
                    </p>
                  </div>
                </div>
                <% subtotal += item.quantity * item.price; %>
                <% itemsTotal += item.quantity %>
              <% }); %>
            </div>
        </div>
    
        </form>
        <div class="summary-order card">
        <div class="summary-title d-flex justify-content-between">
            <h5 class="text-center">Order Summary</h5>
            <h5> <strong><%= itemsTotal %></strong> Item(s)</h5>
        </div>
        <hr>
        <div class="summary-content text-center">
            <p>Subtotal: $<%=subtotal %></p>
            <p>Tax: $<%= itemsTotal * 0.75 %></p>
            <p>Shipping: $<%= shippingVal %></p>
        </div>
           
    
            
        </div>
    <% } %>
  
    
        
    


</body>
